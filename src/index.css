@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    @apply bg-dark-900 text-white antialiased;
  }

  input, textarea, select {
    @apply outline-none;
  }

  input::placeholder, textarea::placeholder {
    @apply text-dark-400;
  }

  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-dark-500;
  }
}

@layer components {
  .glass {
    @apply bg-dark-800/60 backdrop-blur-xl border border-dark-700/50;
  }

  .glass-light {
    @apply bg-dark-700/40 backdrop-blur-lg border border-dark-600/30;
  }

  .glass-dark {
    @apply bg-dark-900/80 backdrop-blur-xl border border-dark-700/50;
  }

  .btn-gold {
    @apply bg-gradient-to-r from-gold-500 to-gold-600 text-dark-900 font-semibold 
           shadow-gold hover:shadow-gold-lg active:scale-[0.98] 
           transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-ghost {
    @apply bg-transparent border border-dark-600 text-white hover:bg-dark-700/50 
           active:scale-[0.98] transition-all duration-200;
  }

  .btn-dark {
    @apply bg-dark-700 text-white hover:bg-dark-600 
           active:scale-[0.98] transition-all duration-200;
  }

  .input-dark {
    @apply w-full bg-dark-800/80 border border-dark-700 rounded-xl px-4 py-3 text-white
           placeholder:text-dark-400 focus:border-gold-500/50 focus:ring-1 focus:ring-gold-500/20
           transition-all duration-200;
  }

  .card {
    @apply bg-dark-800/60 backdrop-blur-sm border border-dark-700/50 rounded-2xl;
  }

  .card-hover {
    @apply card hover:bg-dark-700/60 hover:border-dark-600/50 
           transition-all duration-200 cursor-pointer active:scale-[0.99];
  }

  .text-gold-gradient {
    @apply bg-gradient-to-r from-gold-400 to-gold-600 bg-clip-text text-transparent;
  }

  .skeleton {
    @apply animate-pulse bg-gradient-to-r from-dark-700 via-dark-600 to-dark-700 
           bg-[length:200%_100%] animate-shimmer rounded;
  }

  .badge {
    @apply inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 
           text-xs font-bold rounded-full;
  }

  .badge-gold {
    @apply badge bg-gold-500 text-dark-900;
  }

  .badge-red {
    @apply badge bg-red-500 text-white;
  }

  .divider {
    @apply h-px bg-gradient-to-r from-transparent via-dark-600 to-transparent;
  }

  .safe-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }
}

@layer utilities {
  .text-shadow-gold {
    text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
  }

  .glow-gold {
    filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
  }
}

.story-ring {
  background: linear-gradient(135deg, #d4af37, #b8942d, #d4af37);
  padding: 2px;
}

.story-ring-seen {
  background: linear-gradient(135deg, #424242, #616161, #424242);
  padding: 2px;
}

.typing-indicator span {
  animation: typing 1.4s infinite ease-in-out;
}

.typing-indicator span:nth-child(1) { animation-delay: 0s; }
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing {
  0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
  30% { transform: translateY(-4px); opacity: 1; }
}

.message-bubble-sent {
  @apply bg-gradient-to-br from-gold-500 to-gold-600 text-dark-900;
  border-radius: 20px 20px 4px 20px;
}

.message-bubble-received {
  @apply bg-dark-700 text-white;
  border-radius: 20px 20px 20px 4px;
}

input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(0.7);
}

select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239e9e9e'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
  background-position: right 12px center;
  background-repeat: no-repeat;
  background-size: 16px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
